{"remainingRequest":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\src\\views\\UserLogin.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\src\\views\\UserLogin.vue","mtime":1651033973000},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\babel.config.js","mtime":1651033973000},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696829102433},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1696829103304},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696829102433},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1696829103469}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkQ6XFxEXHUxRUYxIFx4QzFuIFdlYlxcd2ViX3Jldmlld190cnV5ZW5cXGN0NDQ5LW1haW5cXGJvb2tyZXZpZXctZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXHNsaWNlZFRvQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXERcdTFFRjEgXHhDMW4gV2ViXFx3ZWJfcmV2aWV3X3RydXllblxcY3Q0NDktbWFpblxcYm9va3Jldmlldy1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6XFxEXHUxRUYxIFx4QzFuIFdlYlxcd2ViX3Jldmlld190cnV5ZW5cXGN0NDQ5LW1haW5cXGJvb2tyZXZpZXctZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IEZvcm0sIEZpZWxkLCBFcnJvck1lc3NhZ2UgfSBmcm9tICJ2ZWUtdmFsaWRhdGUiOwppbXBvcnQgKiBhcyB5dXAgZnJvbSAieXVwIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBjb21wb25lbnRzOiB7CiAgICBGb3JtOiBGb3JtLAogICAgRmllbGQ6IEZpZWxkLAogICAgRXJyb3JNZXNzYWdlOiBFcnJvck1lc3NhZ2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgc2NoZW1hID0geXVwLm9iamVjdCgpLnNoYXBlKHsKICAgICAgdXNlcm5hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiVMOqbiDEkcSDbmcgbmjhuq1wIHBo4bqjaSBjw7MgZ2nDoSB0cuG7iy4iKSwKICAgICAgcGFzc3dvcmQ6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiTeG6rXQga2jhuql1IHBo4bqjaSBjw7MgZ2nDoSB0cuG7iy4iKQogICAgfSk7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbWVzc2FnZTogIiIsCiAgICAgIHNjaGVtYTogc2NoZW1hCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJ1c2VyTG9nZ2VkSW4iXSkpLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy51c2VyTG9nZ2VkSW4pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wcm9maWxlIik7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVMb2dpbjogZnVuY3Rpb24gaGFuZGxlTG9naW4odXNlcikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzJGhhbmRsZSwgX3lpZWxkJF90aGlzJGhhbmRsZTIsIGVycm9yOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZShfdGhpcy4kc3RvcmUuZGlzcGF0Y2goImxvZ2luIiwgdXNlcikpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkaGFuZGxlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyRoYW5kbGUyID0gX3NsaWNlZFRvQXJyYXkoX3lpZWxkJF90aGlzJGhhbmRsZSwgMSk7CiAgICAgICAgICAgICAgICBlcnJvciA9IF95aWVsZCRfdGhpcyRoYW5kbGUyWzBdOwoKICAgICAgICAgICAgICAgIGlmIChlcnJvcikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgX3RoaXMubWVzc2FnZSA9ICLEkMSDbmcgbmjhuq1wIHRo4bqldCBi4bqhaSI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9wcm9maWxlIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\src\\views\\UserLogin.vue"],"names":[],"mappings":";;;;AAiDA,SAAS,IAAT,EAAe,KAAf,EAAsB,YAAtB,QAA0C,cAA1C;AACA,OAAO,KAAK,GAAZ,MAAqB,KAArB;AACA,SAAS,UAAT,QAA0B,MAA1B;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,OADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,IAAI,EAAJ,IADQ;AAER,IAAA,KAAK,EAAL,KAFQ;AAGR,IAAA,YAAY,EAAZ;AAHQ,GAFD;AAOX,EAAA,IAPW,kBAOJ;AACH,QAAM,MAAK,GAAI,GAAG,CAAC,MAAJ,GAAa,KAAb,CAAmB;AAC9B,MAAA,QAAQ,EAAE,GAAG,CAAC,MAAJ,GAAa,QAAb,CAAsB,gCAAtB,CADoB;AAE9B,MAAA,QAAQ,EAAE,GAAG,CAAC,MAAJ,GAAa,QAAb,CAAsB,2BAAtB;AAFoB,KAAnB,CAAf;AAKA,WAAO;AACH,MAAA,OAAO,EAAE,KADN;AAEH,MAAA,OAAO,EAAE,EAFN;AAGH,MAAA,MAAM,EAAN;AAHG,KAAP;AAKH,GAlBU;AAmBX,EAAA,QAAQ,oBACD,UAAU,CAAC,CACV,cADU,CAAD,CADT,CAnBG;AAwBX,EAAA,OAxBW,qBAwBD;AACN,QAAI,KAAK,YAAT,EAAuB;AACnB,WAAK,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACJ;AACH,GA5BU;AA6BX,EAAA,OAAO,EAAE;AACC,IAAA,WADD,uBACa,IADb,EACmB;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACpB,gBAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AADoB;AAAA,uBAGE,KAAI,CAAC,MAAL,CAClB,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,OAArB,EAA8B,IAA9B,CADkB,CAHF;;AAAA;AAAA;AAAA;AAGb,gBAAA,KAHa;;AAMpB,oBAAI,KAAJ,EAAW;AACP,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,kBAAA,KAAI,CAAC,OAAL,GAAe,KAAf;AACA,kBAAA,KAAI,CAAC,OAAL,GAAe,oBAAf;AACJ,iBAJA,MAIO;AACH,kBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACJ;;AAZoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAavB;AAdI;AA7BE,CAAf","sourcesContent":["<template>\n    <div class=\"col-md-12\">\n        <div class=\"card card-container\" style=\"border: solid 1px #5250C7; border-radius: 15px; box-shadow: 10px 10px 8px #CBCAFF\">\n            <img\n                id=\"profile-img\"\n                src=\"https://png.pngtree.com/thumb_back/fh260/back_our/20190621/ourmid/pngtree-world-book-day-423-charity-banner-image_190995.jpg\"\n                alt=\"Cannot load the image\"\n                class=\"profile-img-card\"\n            />\n            <Form @submit=\"handleLogin\" :validation-schema=\"schema\">\n                <div class=\"form-group\">\n                    <label for=\"username\" style=\"color: #5250C7; font-weight: bold\">Tên đăng nhập</label>\n                    <Field name=\"username\" type=\"text\" class=\"form-control\" />\n                    <ErrorMessage name=\"username\" class=\"error-feedback\" />\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"password\" style=\"color: #5250C7; font-weight: bold\">Mật khẩu</label>\n                    <Field\n                        name=\"password\"\n                        type=\"password\"\n                        class=\"form-control\"\n                    />\n                    <ErrorMessage name=\"password\" class=\"error-feedback\" />\n                </div>\n\n                <div class=\"form-group my-3\">\n                    <button\n                        class=\"btn btn-sm btn-outline-secondary btn-block\"\n                        :disabled=\"loading\"\n                    >\n                        <span\n                            v-show=\"loading\"\n                            class=\"spinner-border spinner-border-sm\"\n                        ></span> \n                        <span>Đăng nhập</span>\n                    </button>\n                </div>\n\n                <div class=\"form-group\">\n                    <div v-if=\"message\" class=\"alert alert-danger\" role=\"alert\">\n                        {{ message }}\n                    </div>\n                </div>\n            </Form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\nimport { mapGetters} from \"vuex\";\n\nexport default {\n    name: \"Login\",\n    components: {\n        Form,\n        Field,\n        ErrorMessage,\n    },\n    data() {\n        const schema = yup.object().shape({\n            username: yup.string().required(\"Tên đăng nhập phải có giá trị.\"),\n            password: yup.string().required(\"Mật khẩu phải có giá trị.\"),\n        });\n\n        return {\n            loading: false,\n            message: \"\",\n            schema,\n        };\n    },\n    computed: {\n        ...mapGetters([\n            \"userLoggedIn\"\n        ]),\n    },\n    created() {\n        if (this.userLoggedIn) {\n            this.$router.push(\"/profile\");\n        }\n    },\n    methods: {\n        async handleLogin(user) {\n            this.loading = true;\n\n            const [error] = await this.handle(\n                this.$store.dispatch(\"login\", user)\n            );\n            if (error) {\n                console.log(error);\n                this.loading = false;\n                this.message = \"Đăng nhập thất bại\";\n            } else {\n                this.$router.push(\"/profile\");\n            }\n        },\n    },\n};\n</script>\n\n<style>\n@import \"../assets/styles/main.css\";\n</style>\n"],"sourceRoot":""}]}