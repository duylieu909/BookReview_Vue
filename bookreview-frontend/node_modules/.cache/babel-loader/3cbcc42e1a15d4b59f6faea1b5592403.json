{"remainingRequest":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\src\\services\\author.service.js","dependencies":[{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\src\\services\\author.service.js","mtime":1651033973000},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\babel.config.js","mtime":1651033973000},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696829102433},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1696829103304},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\eslint-loader\\index.js","mtime":1696829102655}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOlxcRFx1MUVGMSBceEMxbiBXZWJcXHdlYl9yZXZpZXdfdHJ1eWVuXFxjdDQ0OS1tYWluXFxib29rcmV2aWV3LWZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRDpcXERcdTFFRjEgXHhDMW4gV2ViXFx3ZWJfcmV2aWV3X3RydXllblxcY3Q0NDktbWFpblxcYm9va3Jldmlldy1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgaHR0cCBmcm9tICIuLi9jb21tb24vaHR0cCI7CmltcG9ydCBzdG9yZSBmcm9tICIuLi9zdG9yZSI7Cgp2YXIgQXV0aG9yU2VydmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQXV0aG9yU2VydmljZSgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRob3JTZXJ2aWNlKTsKCiAgICBodHRwLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgIHZhciB1c2VyID0gc3RvcmUuZ2V0dGVycy5sb2dnZWRJblVzZXI7CgogICAgICBpZiAodXNlciAmJiB1c2VyLmFjY2Vzc1Rva2VuKSB7CiAgICAgICAgY29uZmlnLmhlYWRlcnMuYXV0aG9yaXphdGlvbiA9ICJCZWFyZXIgIi5jb25jYXQodXNlci5hY2Nlc3NUb2tlbik7CiAgICAgIH0KCiAgICAgIHJldHVybiBjb25maWc7CiAgICB9KTsKICB9CgogIF9jcmVhdGVDbGFzcyhBdXRob3JTZXJ2aWNlLCBbewogICAga2V5OiAiZ2V0QWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGwoKSB7CiAgICAgIHJldHVybiBodHRwLmdldCgiL2F1dGhvcnMiKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldChpZCkgewogICAgICByZXR1cm4gaHR0cC5nZXQoIi9hdXRob3JzLyIuY29uY2F0KGlkKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoZGF0YSkgewogICAgICByZXR1cm4gaHR0cC5wb3N0KCIvYXV0aG9ycyIsIGRhdGEpOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKGlkLCBkYXRhKSB7CiAgICAgIHJldHVybiBodHRwLnB1dCgiL2F1dGhvcnMvIi5jb25jYXQoaWQpLCBkYXRhKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZWxldGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoaWQpIHsKICAgICAgcmV0dXJuIGh0dHAuZGVsZXRlKCIvYXV0aG9ycy8iLmNvbmNhdChpZCkpOwogICAgfQogIH0sIHsKICAgIGtleTogImRlbGV0ZUFsbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlQWxsKCkgewogICAgICByZXR1cm4gaHR0cC5kZWxldGUoIi9hdXRob3JzIik7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmluZEJ5TmFtZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZEJ5TmFtZShuYW1lKSB7CiAgICAgIHJldHVybiBodHRwLmdldCgiL2F1dGhvcnM/bmFtZT0iLmNvbmNhdChuYW1lKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXV0aG9yU2VydmljZTsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGhvclNlcnZpY2UoKTs="},{"version":3,"sources":["D:/Dự Án Web/web_review_truyen/ct449-main/bookreview-frontend/src/services/author.service.js"],"names":["http","store","AuthorService","interceptors","request","use","config","user","getters","loggedInUser","accessToken","headers","authorization","get","id","data","post","put","delete","name"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,gBAAjB;AACA,OAAOC,KAAP,MAAkB,UAAlB;;IAEMC,a;AACF,2BAAc;AAAA;;AACVF,IAAAA,IAAI,CAACG,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8B,UAAAC,MAAM,EAAI;AACpC,UAAMC,IAAI,GAAGN,KAAK,CAACO,OAAN,CAAcC,YAA3B;;AACA,UAAIF,IAAI,IAAIA,IAAI,CAACG,WAAjB,EAA8B;AAC1BJ,QAAAA,MAAM,CAACK,OAAP,CAAeC,aAAf,oBAAyCL,IAAI,CAACG,WAA9C;AACH;;AACD,aAAOJ,MAAP;AACH,KAND;AAOH;;;;WAED,kBAAS;AAAE,aAAON,IAAI,CAACa,GAAL,CAAS,UAAT,CAAP;AAA8B;;;WACzC,aAAIC,EAAJ,EAAQ;AAAE,aAAOd,IAAI,CAACa,GAAL,oBAAqBC,EAArB,EAAP;AAAoC;;;WAC9C,gBAAOC,IAAP,EAAa;AAAE,aAAOf,IAAI,CAACgB,IAAL,CAAU,UAAV,EAAsBD,IAAtB,CAAP;AAAqC;;;WACpD,gBAAOD,EAAP,EAAWC,IAAX,EAAiB;AAAE,aAAOf,IAAI,CAACiB,GAAL,oBAAqBH,EAArB,GAA2BC,IAA3B,CAAP;AAA0C;;;WAC7D,iBAAOD,EAAP,EAAW;AAAE,aAAOd,IAAI,CAACkB,MAAL,oBAAwBJ,EAAxB,EAAP;AAAuC;;;WACpD,qBAAY;AAAE,aAAOd,IAAI,CAACkB,MAAL,CAAY,UAAZ,CAAP;AAAiC;;;WAC/C,oBAAWC,IAAX,EAAiB;AAAE,aAAOnB,IAAI,CAACa,GAAL,yBAA0BM,IAA1B,EAAP;AAA2C;;;;;;AAElE,eAAe,IAAIjB,aAAJ,EAAf","sourcesContent":["import http from \"../common/http\";\nimport store from \"../store\";\n\nclass AuthorService {\n    constructor() {\n        http.interceptors.request.use(config => {\n            const user = store.getters.loggedInUser;\n            if (user && user.accessToken) {\n                config.headers.authorization = `Bearer ${user.accessToken}`;\n            }\n            return config;\n        });\n    }\n\n    getAll() { return http.get(\"/authors\"); }\n    get(id) { return http.get(`/authors/${id}`); }\n    create(data) { return http.post(\"/authors\", data); }\n    update(id, data) { return http.put(`/authors/${id}`, data); }\n    delete(id) { return http.delete(`/authors/${id}`); }\n    deleteAll() { return http.delete(\"/authors\"); }\n    findByName(name) { return http.get(`/authors?name=${name}`); }\n}\nexport default new AuthorService();"]}]}