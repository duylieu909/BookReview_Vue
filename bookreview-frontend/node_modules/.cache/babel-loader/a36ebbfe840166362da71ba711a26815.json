{"remainingRequest":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\src\\views\\UserRegister.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\src\\views\\UserRegister.vue","mtime":1651033973000},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\babel.config.js","mtime":1651033973000},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696829102433},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1696829103304},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696829102433},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1696829103469}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkQ6XFxEXHUxRUYxIFx4QzFuIFdlYlxcd2ViX3Jldmlld190cnV5ZW5cXGN0NDQ5LW1haW5cXGJvb2tyZXZpZXctZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXHNsaWNlZFRvQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXERcdTFFRjEgXHhDMW4gV2ViXFx3ZWJfcmV2aWV3X3RydXllblxcY3Q0NDktbWFpblxcYm9va3Jldmlldy1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6XFxEXHUxRUYxIFx4QzFuIFdlYlxcd2ViX3Jldmlld190cnV5ZW5cXGN0NDQ5LW1haW5cXGJvb2tyZXZpZXctZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IEZvcm0sIEZpZWxkLCBFcnJvck1lc3NhZ2UgfSBmcm9tICJ2ZWUtdmFsaWRhdGUiOwppbXBvcnQgKiBhcyB5dXAgZnJvbSAieXVwIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlZ2lzdGVyIiwKICBjb21wb25lbnRzOiB7CiAgICBGb3JtOiBGb3JtLAogICAgRmllbGQ6IEZpZWxkLAogICAgRXJyb3JNZXNzYWdlOiBFcnJvck1lc3NhZ2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgc2NoZW1hID0geXVwLm9iamVjdCgpLnNoYXBlKHsKICAgICAgdXNlcm5hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiVMOqbiDEkcSDbmcgbmjhuq1wIHBo4bqjaSBjw7MgZ2nDoSB0cuG7iy4iKS5taW4oMywgIlTDqm4gcGjhuqNpIMOtdCBuaOG6pXQgMiBrw70gdOG7sS4iKS5tYXgoMjAsICJUw6puIHThu5FpIMSRYSBjw7MgMjAga8O9IHThu7EuIiksCiAgICAgIGVtYWlsOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoIkUtbWFpbCBwaOG6o2kgY8OzIGdpw6EgdHLhu4suIikuZW1haWwoIkUtbWFpbCBraMO0bmcgxJHDum5nLiIpLm1heCg1MCwgIkUtbWFpbCB04buRaSDEkWEgNTAga8O9IHThu7EuIiksCiAgICAgIHBhc3N3b3JkOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoIk3huq10IGto4bqpdSBwaOG6o2kgY8OzIGdpw6EgdHLhu4suIikubWluKDYsICJN4bqtdCBraOG6qXUgdOG7kWkgdGhp4buDdSA2IGvDvSB04buxLiIpLm1heCg0MCwgIk3huq10IGto4bqpdSB04buRaSDEkWEgNDAga8O9IHThu7EuIikKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc3VjY2Vzc2Z1bDogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgc2NoZW1hOiBzY2hlbWEKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbInVzZXJMb2dnZWRJbiJdKSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLnVzZXJMb2dnZWRJbikgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3Byb2ZpbGUiKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVJlZ2lzdGVyOiBmdW5jdGlvbiBoYW5kbGVSZWdpc3Rlcih1c2VyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMkaGFuZGxlLCBfeWllbGQkX3RoaXMkaGFuZGxlMiwgZXJyb3IsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2UgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3NmdWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlKF90aGlzLiRzdG9yZS5kaXNwYXRjaCgicmVnaXN0ZXIiLCB1c2VyKSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyRoYW5kbGUgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzJGhhbmRsZTIgPSBfc2xpY2VkVG9BcnJheShfeWllbGQkX3RoaXMkaGFuZGxlLCAyKTsKICAgICAgICAgICAgICAgIGVycm9yID0gX3lpZWxkJF90aGlzJGhhbmRsZTJbMF07CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJF90aGlzJGhhbmRsZTJbMV07CgogICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgICAgX3RoaXMubWVzc2FnZSA9ICLEkMSDbmcga8O9IHRo4bqldCBi4bqhaSI7CiAgICAgICAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3NmdWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMubWVzc2FnZSA9IGRhdGEubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgX3RoaXMuc3VjY2Vzc2Z1bCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\src\\views\\UserRegister.vue"],"names":[],"mappings":";;;;AA8DA,SAAS,IAAT,EAAe,KAAf,EAAsB,YAAtB,QAA0C,cAA1C;AACA,OAAO,KAAK,GAAZ,MAAqB,KAArB;AACA,SAAS,UAAT,QAA2B,MAA3B;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,UADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,IAAI,EAAJ,IADQ;AAER,IAAA,KAAK,EAAL,KAFQ;AAGR,IAAA,YAAY,EAAZ;AAHQ,GAFD;AAOX,EAAA,IAPW,kBAOJ;AACH,QAAM,MAAK,GAAI,GAAG,CAAC,MAAJ,GAAa,KAAb,CAAmB;AAC9B,MAAA,QAAQ,EAAE,GAAE,CACP,MADK,GAEL,QAFK,CAEI,gCAFJ,EAGL,GAHK,CAGD,CAHC,EAGE,2BAHF,EAIL,GAJK,CAID,EAJC,EAIG,yBAJH,CADoB;AAM9B,MAAA,KAAK,EAAE,GAAE,CACJ,MADE,GAEF,QAFE,CAEO,yBAFP,EAGF,KAHE,CAGI,oBAHJ,EAIF,GAJE,CAIE,EAJF,EAIM,yBAJN,CANuB;AAW9B,MAAA,QAAQ,EAAE,GAAE,CACP,MADK,GAEL,QAFK,CAEI,2BAFJ,EAGL,GAHK,CAGD,CAHC,EAGE,6BAHF,EAIL,GAJK,CAID,EAJC,EAIG,2BAJH;AAXoB,KAAnB,CAAf;AAkBA,WAAO;AACH,MAAA,UAAU,EAAE,KADT;AAEH,MAAA,OAAO,EAAE,KAFN;AAGH,MAAA,OAAO,EAAE,EAHN;AAIH,MAAA,MAAM,EAAN;AAJG,KAAP;AAMH,GAhCU;AAiCX,EAAA,QAAQ,oBACD,UAAU,CAAC,CACV,cADU,CAAD,CADT,CAjCG;AAsCX,EAAA,OAtCW,qBAsCD;AACN,QAAI,KAAK,YAAT,EAAuB;AACnB,WAAK,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACJ;AACH,GA1CU;AA2CX,EAAA,OAAO,EAAE;AACC,IAAA,cADD,0BACgB,IADhB,EACsB;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACvB,gBAAA,KAAI,CAAC,OAAL,GAAe,EAAf;AACA,gBAAA,KAAI,CAAC,UAAL,GAAkB,KAAlB;AACA,gBAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AAHuB;AAAA,uBAKK,KAAI,CAAC,MAAL,CACxB,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,UAArB,EAAiC,IAAjC,CADwB,CALL;;AAAA;AAAA;AAAA;AAKhB,gBAAA,KALgB;AAKT,gBAAA,IALS;;AAQvB,oBAAI,KAAJ,EAAW;AACP,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,kBAAA,KAAI,CAAC,OAAL,GAAe,kBAAf;AACA,kBAAA,KAAI,CAAC,UAAL,GAAkB,KAAlB;AACA,kBAAA,KAAI,CAAC,OAAL,GAAe,KAAf;AACJ,iBALA,MAKO;AACH,kBAAA,KAAI,CAAC,OAAL,GAAe,IAAI,CAAC,OAApB;AACA,kBAAA,KAAI,CAAC,UAAL,GAAkB,IAAlB;AACA,kBAAA,KAAI,CAAC,OAAL,GAAe,KAAf;AACJ;;AAjBuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkB1B;AAnBI;AA3CE,CAAf","sourcesContent":["<template>\n    <div class=\"col-md-12\">\n        <div class=\"card card-container\" style=\" border: solid 1px #5250C7; border-radius: 15px; box-shadow: 10px 10px 8px #CBCAFF\">\n            <img\n                id=\"profile-img\"\n                src=\"https://cafefcdn.com/thumb_w/650/203337114487263232/2021/8/10/photo1628565231227-1628565231358414473256.jpg\"\n                alt=\"Cannot load the image\"\n                class=\"profile-img-card\"\n            />\n            <Form @submit=\"handleRegister\" :validation-schema=\"schema\">\n                <div v-if=\"!successful\">\n                    <div class=\"form-group\">\n                        <label for=\"username\" style=\"color: #5250C7\">Tên đăng nhập</label>\n                        <Field\n                            name=\"username\"\n                            type=\"text\"\n                            class=\"form-control\"\n                        />\n                        <ErrorMessage name=\"username\" class=\"error-feedback\" />\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"email\" style=\"color: #5250C7\">E-mail</label>\n                        <Field name=\"email\" type=\"email\" class=\"form-control\" />\n                        <ErrorMessage name=\"email\" class=\"error-feedback\" />\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"password\" style=\"color: #5250C7\">Mật khẩu</label>\n                        <Field\n                            name=\"password\"\n                            type=\"password\"\n                            class=\"form-control\"\n                        />\n                        <ErrorMessage name=\"password\" class=\"error-feedback\" />\n                    </div>\n\n                    <div class=\"form-group my-3\">\n                        <button\n                            class=\"btn btn-sm btn-outline-secondary btn-block\"\n                            :disabled=\"loading\"\n                        >\n                            <span\n                                v-show=\"loading\"\n                                class=\"spinner-border spinner-border-sm\"\n                            ></span>\n                            Đăng ký\n                        </button>\n                    </div>\n                </div>\n            </Form>\n\n            <div\n                v-if=\"message\"\n                class=\"alert\"\n                :class=\"successful ? 'alert-success' : 'alert-danger'\"\n            >\n                {{ message }}\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n    name: \"Register\",\n    components: {\n        Form,\n        Field,\n        ErrorMessage,\n    },\n    data() {\n        const schema = yup.object().shape({\n            username: yup\n                .string()\n                .required(\"Tên đăng nhập phải có giá trị.\")\n                .min(3, \"Tên phải ít nhất 2 ký tự.\")\n                .max(20, \"Tên tối đa có 20 ký tự.\"),\n            email: yup\n                .string()\n                .required(\"E-mail phải có giá trị.\")\n                .email(\"E-mail không đúng.\")\n                .max(50, \"E-mail tối đa 50 ký tự.\"),\n            password: yup\n                .string()\n                .required(\"Mật khẩu phải có giá trị.\")\n                .min(6, \"Mật khẩu tối thiểu 6 ký tự.\")\n                .max(40, \"Mật khẩu tối đa 40 ký tự.\"),\n        });\n\n        return {\n            successful: false,\n            loading: false,\n            message: \"\",\n            schema,\n        };\n    },\n    computed: {\n        ...mapGetters([\n            \"userLoggedIn\"\n        ]),\n    },\n    mounted() {\n        if (this.userLoggedIn) {\n            this.$router.push(\"/profile\");\n        }\n    },\n    methods: {\n        async handleRegister(user) {\n            this.message = \"\";\n            this.successful = false;\n            this.loading = true;\n\n            const [error, data] = await this.handle(\n                this.$store.dispatch(\"register\", user)\n            );\n            if (error) {\n                console.log(error);\n                this.message = \"Đăng ký thất bại\";\n                this.successful = false;\n                this.loading = false;\n            } else {\n                this.message = data.message;\n                this.successful = true;\n                this.loading = false;\n            }\n        },\n    },\n};\n</script>\n\n<style>\n@import \"../assets/styles/main.css\";\n</style>\n"],"sourceRoot":""}]}