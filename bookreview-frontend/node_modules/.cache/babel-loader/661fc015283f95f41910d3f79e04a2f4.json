{"remainingRequest":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\src\\views\\AuthorEdit.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\src\\views\\AuthorEdit.vue","mtime":1651033973000},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\babel.config.js","mtime":1651033973000},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696829102433},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1696829103304},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696829102433},{"path":"D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1696829103469}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkQ6XFxEXHUxRUYxIFx4QzFuIFdlYlxcd2ViX3Jldmlld190cnV5ZW5cXGN0NDQ5LW1haW5cXGJvb2tyZXZpZXctZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXHNsaWNlZFRvQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXERcdTFFRjEgXHhDMW4gV2ViXFx3ZWJfcmV2aWV3X3RydXllblxcY3Q0NDktbWFpblxcYm9va3Jldmlldy1mcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IEF1dGhvclNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvYXV0aG9yLnNlcnZpY2UiOwppbXBvcnQgQXV0aG9yRm9ybSBmcm9tICIuLi9jb21wb25lbnRzL0F1dGhvckZvcm0iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkF1dGhvckVkaXQiLAogIGNvbXBvbmVudHM6IHsKICAgIEF1dGhvckZvcm06IEF1dGhvckZvcm0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhdXRob3I6IG51bGwsCiAgICAgIG1lc3NhZ2U6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0QXV0aG9yOiBmdW5jdGlvbiBnZXRBdXRob3IoaWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpcyRoYW5kbGUsIF95aWVsZCRfdGhpcyRoYW5kbGUyLCBlcnJvciwgcmVzcG9uc2U7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZShBdXRob3JTZXJ2aWNlLmdldChpZCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkaGFuZGxlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyRoYW5kbGUyID0gX3NsaWNlZFRvQXJyYXkoX3lpZWxkJF90aGlzJGhhbmRsZSwgMik7CiAgICAgICAgICAgICAgICBlcnJvciA9IF95aWVsZCRfdGhpcyRoYW5kbGUyWzBdOwogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfeWllbGQkX3RoaXMkaGFuZGxlMlsxXTsKCiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuYXV0aG9yID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVBdXRob3I6IGZ1bmN0aW9uIHVwZGF0ZUF1dGhvcihkYXRhKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczIkaGFuZGxlLCBfeWllbGQkX3RoaXMyJGhhbmRsZTIsIGVycm9yLCByZXNwb25zZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlKEF1dGhvclNlcnZpY2UudXBkYXRlKF90aGlzMi5hdXRob3IuaWQsIGRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMiRoYW5kbGUgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczIkaGFuZGxlMiA9IF9zbGljZWRUb0FycmF5KF95aWVsZCRfdGhpczIkaGFuZGxlLCAyKTsKICAgICAgICAgICAgICAgIGVycm9yID0gX3lpZWxkJF90aGlzMiRoYW5kbGUyWzBdOwogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfeWllbGQkX3RoaXMyJGhhbmRsZTJbMV07CgogICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgICBhbGVydCgiVMOhYyBnaeG6oyDEkcaw4bujYyBj4bqtcCBuaOG6rXQgdGjDoG5oIGPDtG5nLiIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkZWxldGVBdXRob3I6IGZ1bmN0aW9uIGRlbGV0ZUF1dGhvcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMyRoYW5kbGUsIF95aWVsZCRfdGhpczMkaGFuZGxlMiwgZXJyb3IsIHJlc3BvbnNlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5oYW5kbGUoQXV0aG9yU2VydmljZS5kZWxldGUoX3RoaXMzLmF1dGhvci5pZCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMzJGhhbmRsZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMyRoYW5kbGUyID0gX3NsaWNlZFRvQXJyYXkoX3lpZWxkJF90aGlzMyRoYW5kbGUsIDIpOwogICAgICAgICAgICAgICAgZXJyb3IgPSBfeWllbGQkX3RoaXMzJGhhbmRsZTJbMF07CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF95aWVsZCRfdGhpczMkaGFuZGxlMlsxXTsKCiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiQXV0aG9yIgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5tZXNzYWdlID0gIiI7CiAgICB0aGlzLmdldEF1dGhvcih0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogIH0KfTs="},{"version":3,"sources":["D:\\Dự Án Web\\web_review_truyen\\ct449-main\\bookreview-frontend\\src\\views\\AuthorEdit.vue"],"names":[],"mappings":";;;AAgBA,OAAO,aAAP,MAA0B,4BAA1B;AACA,OAAO,UAAP,MAAuB,0BAAvB;AACA,eAAe;AACX,EAAA,IAAI,EAAE,YADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,UAAU,EAAV;AADQ,GAFD;AAKX,EAAA,IALW,kBAKJ;AACH,WAAO;AACH,MAAA,MAAM,EAAE,IADL;AAEH,MAAA,OAAO,EAAE;AAFN,KAAP;AAIH,GAVU;AAWX,EAAA,OAAO,EAAE;AACC,IAAA,SADD,qBACW,EADX,EACe;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACgB,KAAI,CAAC,MAAL,CAAY,aAAa,CAAC,GAAd,CAAkB,EAAlB,CAAZ,CADhB;;AAAA;AAAA;AAAA;AACT,gBAAA,KADS;AACF,gBAAA,QADE;;AAEhB,oBAAI,KAAJ,EAAW;AACP,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACJ,iBAFA,MAEO;AACP,kBAAA,KAAI,CAAC,MAAL,GAAc,QAAQ,CAAC,IAAvB;AACA,kBAAA,OAAO,CAAC,GAAR,CAAY,QAAQ,CAAC,IAArB;AACA;;AAPgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQnB,KATI;AAUC,IAAA,YAVD,wBAUc,IAVd,EAUoB;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACW,MAAI,CAAC,MAAL,CAC5B,aAAa,CAAC,MAAd,CAAqB,MAAI,CAAC,MAAL,CAAY,EAAjC,EAAqC,IAArC,CAD4B,CADX;;AAAA;AAAA;AAAA;AACd,gBAAA,KADc;AACP,gBAAA,QADO;;AAIrB,oBAAI,KAAJ,EAAW;AACP,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACJ,iBAFA,MAEO;AACH,kBAAA,OAAO,CAAC,GAAR,CAAY,QAAQ,CAAC,IAArB;AACA,kBAAA,KAAK,CAAC,mCAAD,CAAL;AACJ;;AATqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUxB,KApBI;AAqBC,IAAA,YArBD,0BAqBgB;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACe,MAAI,CAAC,MAAL,CAC5B,aAAa,CAAC,MAAd,CAAqB,MAAI,CAAC,MAAL,CAAY,EAAjC,CAD4B,CADf;;AAAA;AAAA;AAAA;AACV,gBAAA,KADU;AACH,gBAAA,QADG;;AAIjB,oBAAI,KAAJ,EAAW;AACP,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACJ,iBAFA,MAEO;AACH,kBAAA,OAAO,CAAC,GAAR,CAAY,QAAQ,CAAC,IAArB;;AACA,kBAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,oBAAA,IAAI,EAAE;AAAR,mBAAlB;AACJ;;AATiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUpB;AA/BI,GAXE;AA4CP,EAAA,OA5CO,qBA4CG;AACN,SAAK,OAAL,GAAe,EAAf;AACA,SAAK,SAAL,CAAe,KAAK,MAAL,CAAY,MAAZ,CAAmB,EAAlC;AACH;AA/CM,CAAf","sourcesContent":["<template>\n    <div v-if=\"author\" class=\"edit-form\">\n        <h4 style=\"color: #5250C7;\">Hiệu chỉnh Tác giả</h4>\n        <AuthorForm\n            :author=\"author\"\n            @author-submit=\"updateAuthor\"\n            @author-delete=\"deleteAuthor\"\n        />\n        <p>{{ message }}</p>\n    </div>\n    <div v-else>\n        <br />\n        <p>Không tìm thấy tác giả.</p>\n    </div>\n</template>\n<script>\nimport AuthorService from \"../services/author.service\";\nimport AuthorForm from \"../components/AuthorForm\";\nexport default {\n    name: \"AuthorEdit\",\n    components: {\n        AuthorForm,\n    },\n    data() {\n        return {\n            author: null,\n            message: \"\",\n        };\n    },\n    methods: {\n        async getAuthor(id) {\n            const [error, response] = await this.handle(AuthorService.get(id));\n            if (error) {\n                console.log(error);\n            } else {\n            this.author = response.data;\n            console.log(response.data);\n            }\n        },\n        async updateAuthor(data) {\n            const [error, response] = await this.handle(\n                AuthorService.update(this.author.id, data)\n            );\n            if (error) {\n                console.log(error);\n            } else {\n                console.log(response.data);\n                alert(\"Tác giả được cập nhật thành công.\");\n            }\n        },\n        async deleteAuthor() {\n            const [error, response] = await this.handle(\n                AuthorService.delete(this.author.id)\n            );\n            if (error) {\n                console.log(error);\n            } else {\n                console.log(response.data);\n                this.$router.push({ name: \"Author\" });\n            }\n        },\n        },\n        mounted() {\n            this.message = \"\";\n            this.getAuthor(this.$route.params.id);\n        },\n    };\n</script>\n<style>\n.edit-form {\n    max-width: 400px;\n    margin: auto;\n}\n</style>"],"sourceRoot":""}]}